# mju_iot_project

IOT 수업 프로젝트

주변 온도 변화와 가축의 체온을 실시간으로 감지하고 발정을 탐지하는 시스템

(1) 발정 탐지 및 식별: 기기는 가축의 우측 앞다리에 부착하며, 가속도 센서를 만보기 형태로 프로그래밍하여 활동량을 확인하고 가축의 승가 행위는 가속도 센서와 자이로 센서를 조합하여 평균값보다 급격하게 높을 경우로 판단한다.

(2) 건강 상태: 비접촉식 온도 센서 이용하여 가축의 실시간 체온 증감 량을 확인한다. 발열 유무를 판단하며 이상이 있으면 사용자에게 알림을 보낸다.

(3) 외부환경: 해당 지역 날씨 데이터를 API로 가져와서 비나 눈의 기상이 예측되면 휴대폰에 알림을 보낸다. 또한, 온/습도 센서를 이용하여 대기를 측정한다.

(4) 제어: 온도가 높을 경우 선풍기 세기를 조절하면서 가동한다. 급격한 온도 변화가 있을 시에 화재로 감지하여 사용자에게 알림과 119에 화재진압요청 알림을 보낸다.

(5) 애플리케이션: 온도와 습도가 표시된다. 또한, 관찰하고 싶은 개체번호를 입력하면 활동량과 체온 변동정보가 시각화해서 표시된다.

...............

2.1 Inertial Measurement Unit 소의 활동량을 식별하기 위해 관성측정 장치로써 MPU 6050 모듈을 사용한다. 가속도 센서의 X, Y, Z축값을 합쳐 절댓값으로 환산하고 특정 값보다 크면 걸음 수를 1회 카운트하도록 설정한다. 특정 값은 여러 번의 테스트를 거쳐 산출한다. 가축의 승가 행위는 가속도와 자이로센서값을 활용하여 판별한다.

2.2 Adafruit IO 활동량과 가축 체온변동정보를 Adafruit IO Dashboard를 이용하여 시각화해서 표시한다. 개체번호는 입력하거나 controller bar를 이용하여 조절할 수 있도록 설계한다.

2.3 IFTTT 활동량이 평소보다 급감하거나 가축 체온에 이상이 생겼을 때 휴대전화로 알림을 보낸다. 온도가 높으면 선풍기 세기를 제어하여 온도를 조절하고 온도가 급격하게 상승할 경우 화재로 감지하여 사용자와 119에 알림을 보낸다.

2.4 OpenAPI(openweathermap) 해당 지역의 날씨 데이터를 가져오기 위해서 openweathermap.api를 사용한다.

최종 결과

다음의 기능들을 구현

-가축의 활동 시간, 발정이 의심되는 시간을 adafruit의 그래프로 기록

-1시간에 한 번씩 adafruit에 축사 주변의 온도, 습도, 날씨를 기록

-1분마다 소의 체온을 adafruit에 그래프로 기록

-소의 체온이 정상 범주를 벗어나는 경우 ifttt를 통해 사용자에게 알람을 전송

-축사 주변의 온도가 비 정상 적일때 ifttt를 통해 사용자에게 화재 경보를 전송

-눈 또는 비가 내리는 경우 ifttt를 통해 사용자에게 기상 정보를 전송

각 기능들이 정상적으로 실행되는 모습은 데모영상을 통해 준비하였습니다.

기존에 사용하던 상보필터를 제외하는 것으로 변경 하였습니다. 이유는 각도값이 즉시 업데이트 되지않고 2~3도 씩 변화하기에 조건으로 사용할 수 없어기 때문입니다. 이러한 부분은 결과물의 한계점으로 정리 하였습니다.
